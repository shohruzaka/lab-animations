<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Raqamli Imzo va PKI</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=JetBrains+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="assets/main.css">
</head>
<body class="digital-signature">

    <nav>
        <a href="index.html" class="nav-logo">CryptoLab</a>
        <a href="index.html">Asosiy</a>
        <a href="topics.html">Mavzular</a>
        <a href="tarmoq.html">Tarmoq</a>
    </nav>

    <h1>Raqamli Imzo va PKI</h1>
    <p style="color: #94a3b8; text-align: center; max-width: 700px; margin-bottom: 40px;">
        Raqamli imzo hujjatning haqiqiyligini va o'zgarmaganligini ta'minlaydi. Quyida ushbu jarayon qanday ishlashini ko'rishingiz mumkin.
    </p>

    <div class="container">
        
        <!-- DEMO SECTION -->
        <div class="card">
            <div class="demo-section">
                <!-- Sender Side -->
                <div style="border-right: 1px solid rgba(255,255,255,0.1); padding-right: 20px;">
                    <h2>1. Yuboruvchi (Imzolash)</h2>
                    <p style="font-size: 0.9rem; color: #cbd5e1;">Hujjat xeshi olinadi va <b>Maxfiy kalit</b> bilan shifrlanadi.</p>
                    
                    <label>Hujjat Matni:</label>
                    <textarea id="msg-input" oninput="updateSender()">Men shartnomani tasdiqlayman.</textarea>
                    
                    <div class="arrow"><i class="bi bi-arrow-down"></i> Xeshlash (SHA-256)</div>
                    <div class="hash-display" id="sender-hash">...</div>
                    
                    <div class="arrow"><i class="bi bi-arrow-down"></i> <i class="bi bi-key-fill"></i> Maxfiy kalit bilan imzolash</div>
                    <button onclick="signMessage()"><i class="bi bi-pen-fill"></i> Raqamli Imzo Yaratish</button>
                    
                    <div style="margin-top: 10px; font-size: 0.9rem;">Hosil bo'lgan imzo:</div>
                    <div class="signature-display" id="sender-sig">Imzo hali yaratilmadi</div>
                </div>

                <!-- Receiver Side -->
                <div style="padding-left: 20px;">
                    <h2>2. Qabul qiluvchi (Tekshirish)</h2>
                    <p style="font-size: 0.9rem; color: #cbd5e1;">Imzo <b>ochiq kalit</b> bilan tekshiriladi va xeshlar solishtiriladi.</p>
                    
                    <label>Kelgan Matn (O'zgartirib ko'ring):</label>
                    <textarea id="msg-verify">Men shartnomani tasdiqlayman.</textarea>
                    
                    <div class="arrow"><i class="bi bi-arrow-down"></i> Xeshlash</div>
                    <div class="hash-display" id="receiver-hash">...</div>
                    
                    <label>Kelgan imzo:</label>
                    <div class="signature-display" id="receiver-sig" style="opacity: 0.7;">...</div>
                    
                    <button onclick="verifyMessage()" style="background: var(--accent);"><i class="bi bi-search"></i> Imzoni tekshirish</button>
                    
                    <div id="status-box" class="status-box"></div>
                </div>
            </div>
        </div>

        <!-- THEORY SECTION -->
        <div class="concept-grid">
            <div class="concept-card">
                <h3>Nega Xesh ishlatiladi?</h3>
                <p style="font-size: 0.9rem; color: #cbd5e1;">
                    Butun hujjatni shifrlash juda sekin jarayon. Shu sababli, hujjatning qisqa va noyob "barmoq izi" (xesh) olinadi va faqat shu xesh imzolanadi. Bu tez va xavfsiz.
                </p>
            </div>
            <div class="concept-card">
                <h3>PKI (Public Key Infrastructure)</h3>
                <p style="font-size: 0.9rem; color: #cbd5e1;">
                    PKI - bu kalitlarni boshqarish tizimi. U kimning ochiq kaliti kimga tegishli ekanligini tartibga soladi. Bu raqamli pasport stoliga o'xshaydi.
                </p>
            </div>
            <div class="concept-card">
                <h3>CA (Certificate Authority)</h3>
                <p style="font-size: 0.9rem; color: #cbd5e1;">
                    Sertifikat Markazi (CA) - bu ishonchli uchinchi tomon (masalan, Google yoki hukumat). U shaxsning shaxsiyatini tekshiradi va uning Ochiq Kalitiga "muhr" bosib, Raqamli Sertifikat beradi.
                </p>
            </div>
        </div>

    </div>

    <script src="assets/app.js"></script>
</body>
</html>